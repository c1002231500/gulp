define(function(t,i,s){t("jquery");var e=t("./anchor-tools");s.exports={init:function(){$(".nl-nologin .login-left").click(function(){$(".circle-n .login-cents").click()}),$(".nl-nologin .regis-left").click(function(){$(".circle-n .regis-cents").click()}),$(".circle-n .login-cents").click(function(){$(".login-html").html(o),$(".bgmask").show(),$("#loginbox").show();parseInt(document.documentElement.scrollTop||document.body.scrollTop);$(".yzmimg_login").attr("src","/tools/captcha.php?_t="+(new Date).toString()),$("#tab_login").removeClass("regsw"),$("#tab_reg").removeClass("regsw"),$("#tab_login_content").hide(),$("#tab_reg_content").hide(),$("#tab_login_content").show(),$("#tab_login").addClass("regsw"),$("#loginbox").draggable()}),$(".circle-n .regis-cents").click(function(){$(".login-html").html(o),$(".bgmask").show(),$("#loginbox").show();parseInt(document.documentElement.scrollTop||document.body.scrollTop);$(".yzmimg_login").attr("src","/tools/captcha.php?_t="+(new Date).toString()),$("#tab_login").removeClass("regsw"),$("#tab_reg").removeClass("regsw"),$("#tab_login_content").hide(),$("#tab_reg_content").hide(),$("#tab_reg_content").show(),$("#tab_reg").addClass("regsw"),$("#loginbox").draggable()}),$(".login-html").on("click","#loginbox .box_close",function(t){$(".bgmask").hide(),$("#loginbox").hide()}),$(".login-html").on("click",".yzmimg_reg,.re1",function(){$(".yzmimg_reg").attr("src","/tools/captcha.php?_t="+(new Date).toString())}),$(".login-html").on("click",".yzmimg_login,.re2",function(t){$(".yzmimg_login").attr("src","/tools/captcha.php?_t="+(new Date).toString())}),$(".login-html").on("click",".loginswitch #loginboxLoginbtn",function(t){$("#tab_reg").removeClass("regsw"),$("#tab_login_content").hide(),$("#tab_reg_content").hide(),$("#tab_login_content").show(),$("#tab_login").addClass("regsw"),$(".yzmimg_login").attr("src","/tools/captcha.php?_t="+(new Date).toString())}),$(".login-html").on("click",".loginswitch #loginboxRegbtn",function(t){$("#tab_login").removeClass("regsw"),$("#tab_login_content").hide(),$("#tab_reg_content").hide(),$("#tab_reg_content").show(),$("#tab_reg").addClass("regsw"),$(".yzmimg_reg").attr("src","/tools/captcha.php?_t="+(new Date).toString())}),$(".login-html").on("click",".tcloginbtn",function(){""==$("#tcuser").val()?($("#login_form2 .regmail .oktip").hide(),$("#login_form2 .regmail .error").html("请输入帐号/靓号").show(),$("#tcuser").css("border-color","#D33A34")):""==$("#tcpass").val()?($("#login_form2 .regpw .oktip").hide(),$("#login_form2 .regpw .error").html("请输入密码").show(),$("#tcpass").css("border-color","#D33A34")):""==$("#login_vaildcode").val()?($("#login_form2 .log_yzm .oktip").hide(),$("#login_form2 .log_yzm .error").html("请输入验证码").show(),$("#login_vaildcode").css("border-color","#D33A34")):$.post("/login.php",{username:$("#tcuser").val(),password:$("#tcpass").val(),login_vaildcode:$("#login_vaildcode").val(),remember:$("#tcremember").attr("checked")},function(t){"no"==t.r?e.dialog(t.field):$.get("/login.php?action=get",function(t){"true"==t.result?window.location.reload():e.dialog("用户名密码错误!")},"json")},"json")}),$(".login-html").on("click",".regbtn",function(){$.post("/register.php",{action:"reg",email:$("#reg_email").val(),password:$("#reg_password").val(),repassword:$("#reg_repassword").val(),nickname:$("#reg_nickname").val(),vaildcode:$("#reg_vaildcode").val()},function(t){"yes"==t.r?self.location=self.location+"?isshowku=1":e.dialog(t.r)},"json")}),$(".login-html").on("focus","input[type='text']",function(){$(this).css("border","1px solid #4CCC21")}).on("blur","input[type='text']",function(){$(this).css("border","1px solid #ccc")}),$(".login-html").on("click",".other_log_qq .qqloin",function(){$(".bgmask").hide(),$("#loginbox").hide();var t=500,i=400;window.open("/opensns/qq/index.php","snslogin","top="+(window.screen.height-i)/2+",left="+(window.screen.width-t)/2+",width="+t+",height="+i)})},showLoing:function(){$(".circle-n .login-cents").click()}};var o='<div class="bgmask" style="display: none; height: 100%; z-index: 20002;"></div>\t\t<div class="login-box-global-css" id="loginbox" style="display:none">\t\t<div class="box_head">\t\t\t<div style="position:relative"><div class="box_close icons Stat 2_3" id="box_close"></div></div>\t\t\t<ul class="loginswitch">\t\t\t\t<li id="tab_login" class="regsw"><a href="javascript:void(0)" id="loginboxLoginbtn">登录</a></li>\t\t\t\t<li id="tab_reg" class="" ><a href="javascript:void(0)" id="loginboxRegbtn">注册</a></li>\t\t\t</ul>\t\t</div>\t\t<div class="clear"></div>\t\t<div class="rlbox" id="tab_reg_content" style="display: none;">\t\t\t<div class="regbox">\t\t\t\t<form id="registerForm" method="get" onsubmit="return false;">\t\t\t\t\t<div class="regmail">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t<input type="text" id="reg_email" placeholder="账号(邮箱号)" class="input210" style="margin-top:0">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="border_right topb"></div><div class="oktip"></div>\t\t\t\t\t\t<div id="mailinputTip" class="regdes" style="display: none;">用于登录</div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="regnic">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t<input type="text" id="reg_nickname" placeholder="昵称" class="input210 f_g">\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="border_right topb"></div>\t\t\t\t\t\t<div class="oktip"></div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="regpw">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t\t\t\t\t<input type="password" id="reg_password"  placeholder="创建密码" class="input210">\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="border_right topb"></div><div class="oktip"></div>\t\t\t\t\t\t\t<div id="pwinputTip" class="regdes" style="display: none;">6-30位字符，区分大小写</div>\t\t\t\t\t\t<span class="pwbar"></span>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t\t<div class="pwbar"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="regpw2">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t\t<input type="password" id="reg_repassword"  placeholder="确认密码" class="input210">\t\t\t\t\t\t</div>\t\t\t\t\t\t\t<div class="border_right topb"></div><div class="oktip"></div>\t\t\t\t\t\t<div id="pwinput2Tip" class="regdes" style="display: none;">请再次输入密码 </div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="regcode">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t\t<input type="text" id="reg_vaildcode"  placeholder="验&nbsp;证&nbsp;码" class="input100">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="border_right topb"></div>\t\t\t\t\t\t<img title="点击图片切换验证码" class="yzmimg yzmimg_reg" src="/tools/captcha.php">\t\t\t\t\t\t<div class="oktip"></div>\t\t\t\t\t\t<div class="regdes re1">刷新</div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t</div>\t\t\t\t\t<p class="agree_p">\t\t\t\t\t\t<label class="agree">\t\t\t\t\t\t\t<input type="checkbox" checked="true" id="agreement" class="icon_checked fl v-middle">我已阅读并同意\t\t\t\t\t\t\t<a target="_blank" href="/news/4.html">网站使用协议</a>\t\t\t\t\t\t</label>\t\t\t\t\t</p>\t\t\t\t\t<button class="Stat 2_1 regbtn" id="regsub" type="button">立即注册</button>\t\t\t\t</form>\t\t\t\t<div class="other_login_area">\t\t\t\t\t<span class="other_log_qq">\t\t\t\t\t\t<a class="qqloin" href="javascript:void(0)"></a>\t\t\t\t\t</span>\t\t\t\t\t<span class="other_log_sina">\t\t\t\t\t\t<a href="javascript:void(0)" class="Stat 2_2"></a>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t</div>\t\t\t<div></div>\t\t</div>\t\t<div class="rlbox" id="tab_login_content" style="display: block;">\t\t\t<div class="regbox logbox">\t\t\t\t<form id="login_form2" onsubmit="return false;">\t\t\t\t\t<div class="regmail lip">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t<input type="text" id="tcuser" placeholder="帐号/靓号" class="input210" style="color: rgb(153, 153, 153);margin-top:0">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="border_right topb"></div><div class="oktip"></div>\t\t\t\t\t\t<div style="display:none;" class="regdes">请输入正确的帐号地址</div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="regpw lip">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t\t<input type="password" placeholder="密码" id="tcpass" class="input210">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="border_right topb"></div><div class="oktip"></div>\t\t\t\t\t\t\t<div class="regdes" style="display: none;">6-30位字符，区分大小写</div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t\t<div class="pwbar"></div>\t\t\t\t\t</div>\t\t\t\t\t<div class="log_yzm lip">\t\t\t\t\t\t<div class="border_center topb">\t\t\t\t\t\t\t<input type="text" id="login_vaildcode" placeholder="验证码"  class="input100">\t\t\t\t\t\t</div>\t\t\t\t\t\t<div class="border_right topb"></div>\t\t\t\t\t\t<img class="yzmimg yzmimg_login" style="width: 65px;" alt="点击图片切换验证码" src="/tools/captcha.php?_t='+(new Date).toString()+'">\t\t\t\t\t\t<div class="oktip"></div>\t\t\t\t\t\t\t<div class="regdes re2">刷新</div>\t\t\t\t\t\t<div class="error" style="display: none;"></div>\t\t\t\t\t\t<div class="pwbar"></div>\t\t\t\t\t</div>\t\t\t\t\t<p class="agree_p">\t\t\t\t\t\t<label class="agree">\t\t\t\t\t\t\t<input type="checkbox" id="tcremember" class="icon_checked fl v-middl" checked="true">\t\t\t\t\t\t\t下次自动登录\t\t\t\t\t\t\t<a target="_blank" href="/html/findpassword.html">忘记密码</a>\t\t\t\t\t\t</label>\t\t\t\t\t</p> \t\t\t\t\t<button id="loginsub" class="tcloginbtn" type="submit">登 录</button>\t\t\t\t</form>\t\t\t\t<div class="other_login_area">\t\t\t\t\t<span class="other_log_qq">\t\t\t\t\t\t<a class="qqloin" href="javascript:void(0)"></a>\t\t\t\t\t</span>\t\t\t\t\t<span class="other_log_sina">\t\t\t\t\t\t<a href="javascript:void(0)" class="Stat 2_2"></a>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t</div>'});