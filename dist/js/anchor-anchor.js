define(function(a,e,n){var t=a("cons"),s=a("anchor-list"),o=a("anchor-tools");n.exports={anchors:{},init:function(){$("#addFav2").on("click",function(){if(!UIF.handler.login)return void UIF.handler.loging();var a=UIF.handler.cache.get(t.USER_HEADINFOS);null!=a&&1==a.isFollows?o.dialog("取消关注将清除亲密等级！",function(a){UIF.handler.follow({},function(a){a=jQuery.parseJSON(a),200==a.resultStatus&&0==a.isFollows&&$("#isfollow1").show().siblings("#isfollow0").hide()})},function(a){}):UIF.handler.follow({},function(a){a=jQuery.parseJSON(a),200==a.resultStatus&&1==a.isFollows&&$("#isfollow0").show().siblings("#isfollow1").hide()})})},onMessage:function(a){this.anchors=a,this.onLoad()},onLoad:function(){this.onHeads(),"qqgame_built"!=UIF.skinType&&(this.menus(),this.startMenu())},startMenu:function(){$(".guard-area").draggable({containment:"parent",stop:function(){var a=$(".guard-area").attr("style");UIF.setCookie("guard-area",a,86400)}}),$(".guard-area").resizable({alsoResize:".guard-main",minHeight:150,minWidth:208,stop:function(){var a=$(".guard-area").attr("style");UIF.setCookie("guard-area",a,86400)}}),$(".rank-area").draggable({containment:"parent",stop:function(){var a=$(".rank-area").attr("style");UIF.setCookie("rank-area",a,86400)}}),$(".rank-area").resizable({alsoResize:".rk-con1,.rk-con2,.rk-con3",minHeight:150,minWidth:208,stop:function(){var a=$(".rank-area").attr("style");UIF.setCookie("rank-area",a,86400)}}),$(".gift-record").draggable({containment:"parent",cancel:"#span",stop:function(){var a=$(".gift-record").attr("style");UIF.setCookie("gift-record",a,86400)}}),$(".gift-record").resizable({alsoResize:".gr-main",minHeight:150,minWidth:208,stop:function(){var a=$(".gift-record").attr("style");UIF.setCookie("gift-record",a,86400)}}),$(".visitant-record").draggable({containment:"parent",cancel:"#span",stop:function(){var a=$(".visitant-record").attr("style");UIF.setCookie("visitant-record",a,86400)}}),$(".visitant-record").resizable({alsoResize:".vr-main",minHeight:150,minWidth:208,stop:function(){var a=$(".visitant-record").attr("style");UIF.setCookie("visitant-record",a,86400)}}),$(".chat-area").draggable({containment:"parent",cancel:".hrr,input",stop:function(){var a=$(".chat-area").attr("style");UIF.setCookie("chat-area",a,86400)}}),$(".chat-area").resizable({alsoResize:".cr-body,#msgContent",minHeight:530,minWidth:340,stop:function(){var a=$(".chat-area").attr("style");UIF.setCookie("chat-area",a,86400)}}),$(".chat-area").on("resizestop",function(a,e){$("#nano-pubChatList").nanoScroller(),$("#nano-pubChatList").nanoScroller({scroll:"bottom"})})},menus:function(){var e=this,n=a("map"),t=new n;t.put("sw-guard","guard-area"),t.put("sw-chat","chat-area"),t.put("sw-record","gift-record"),t.put("sw-rank","rank-area"),t.put("sw-vip","visitant-record");for(var s=0;s<t.size();s++){var r=t.elements[s];if(null!=r){e.swc(r.key,r.value);var i=o.getCookie(r.key+"-cook"),l=o.getCookie(r.value);null!=l&&$("."+r.value).attr("style",l),null!=i&&1==i?($("#"+r.key).removeClass(r.key).addClass(r.key+"-hover"),$("."+r.value).hide()):$("."+r.value).show()}}},swc:function(a,e){$(".switch-area").on("click","#"+a,function(){return UIF.handler.login?(o.setCookie(a+"-cook",1,86400),$("."+e).toggle(),void($("."+e).is(":hidden")?$(this).addClass(a+"-hover").removeClass(a):(o.setCookie(a+"-cook",0,86400),$(this).addClass(a).removeClass(a+"-hover")))):void UIF.handler.loging()})},onHeads:function(){if(null!=this.anchors&&null!=this.anchors.followNumber&&$(".live-info .self-level .level-margin-area .l-xin").text(this.anchors.followNumber),null!=this.anchors&&null!=this.anchors.heatNumber&&$(".live-info .self-level .level-margin-area .l-fire").text(this.anchors.heatNumber),null!=this.anchors&&null!=this.anchors.numbers&&$(".live-info .s-else .s-people").text(this.anchors.numbers),null!=this.anchors&&null!=this.anchors.city&&$(".live-info .self-name .s-else .s-position").text(this.anchors.city),null!=this.anchors&&null!=this.anchors.nickname&&$(".live-info .self-name .anchor-info-names").text(decodeURIComponent(this.anchors.nickname)),null!=this.anchors&&null!=this.anchors.dc&&$(".lhaicha").text("升级还差"+this.anchors.dc+"经验值"),null!=this.anchors&&null!=this.anchors.nc&&$(".lvinner").css("width",this.anchors.nc+"%"),$(".toggleBox .viewer>span").text(this.anchors.numbers),$(".s-name .anchor-level").removeClass().addClass("anchor-level").addClass(this.anchors.il),$(".lhaicha").siblings("span").removeClass().addClass("anchor-level-next").addClass("anchor-level").addClass(this.anchors.inl),UIF.handler.cache.remove(t.ANCHOR_HEADINFOS),UIF.handler.cache.put(t.ANCHOR_HEADINFOS,this.anchors),null!=this.anchors&&null!=this.anchors.userList&&this.anchors.userList.length>0)for(var a=this.anchors.userList,e=0;e<a.length;e++){var n=a[e];s.addUsers(n)}}}});