!function(t){return"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i){"use strict";var o,n,s,r,l,h,c,a,p,u,d,g,f,v,m,S,$,y,T,b,w,x,C,H,O,A,E,Y,B,D,F;C={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},y="scrollbar",$="scroll",p="mousedown",u="mouseenter",d="mousemove",f="mousewheel",g="mouseup",S="resize",l="drag",h="enter",b="up",m="panedown",s="DOMMouseScroll",r="down",w="wheel",c="keydown",a="keyup",T="touchmove",o="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,n=null,E=e.requestAnimationFrame,x=e.cancelAnimationFrame,B=i.createElement("div").style,F=function(){var t,e,i,o,n,s;for(o=["t","webkitT","MozT","msT","OT"],t=n=0,s=o.length;n<s;t=++n)if(i=o[t],e=o[t]+"ransform",e in B)return o[t].substr(0,o[t].length-1);return!1}(),D=function(t){return F!==!1&&(""===F?t:F+t.charAt(0).toUpperCase()+t.substr(1))},Y=D("transform"),O=Y!==!1,H=function(){var t,e,o;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=$,e.top="-9999px",i.body.appendChild(t),o=t.offsetWidth-t.clientWidth,i.body.removeChild(t),o},A=function(){var t,i,o;return i=e.navigator.userAgent,!!(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))&&(o=/Firefox\/\d{2}\./.exec(i),o&&(o=o[0].replace(/\D+/g,"")),t&&+o>23)},v=function(){function c(o,s){this.el=o,this.options=s,n||(n=H()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+this.options.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return c.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===s)(e===r&&t.originalEvent.detail>0||e===b&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===f){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===r&&t.originalEvent.wheelDelta<0||e===b&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},c.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},c.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},c.prototype.setOnScrollStyles=function(){var t;O?(t={},t[Y]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},E?(x&&this.scrollRAF&&x(this.scrollRAF),this.scrollRAF=E(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},c.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(d,t.events[l]).bind(g,t.events[b]),t.body.bind(u,t.events[h]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(e){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(d,t.events[l]).unbind(g,t.events[b]),t.body.unbind(u,t.events[h]),!1}}(this),resize:function(t){return function(e){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,r),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,b),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;if(null!=e)return i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1}}(this),enter:function(t){return function(e){var i;if(t.isBeingDragged)return 1!==(e.buttons||e.which)?(i=t.events)[b].apply(i,arguments):void 0}}(this)}},c.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(S,t[S]),this.iOSNativeScrolling||(this.slider.bind(p,t[r]),this.pane.bind(p,t[m]).bind(""+f+" "+s,t[w])),this.$content.bind(""+$+" "+f+" "+s+" "+T,t[$])},c.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(S,t[S]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+$+" "+f+" "+s+" "+T,t[$])},c.prototype.generate=function(){var t,i,o,s,r,l,h;return s=this.options,l=s.paneClass,h=s.sliderClass,t=s.contentClass,(r=this.$el.children("."+l)).length||r.children("."+h).length||this.$el.append('<div class="'+l+'"><div class="'+h+'" /></div>'),this.pane=this.$el.children("."+l),this.slider=this.pane.find("."+h),0===n&&A()?(o=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+o+14}):n&&(i={right:-n},this.$el.addClass("has-scrollbar")),null!=i&&this.$content.css(i),this},c.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},c.prototype.reset=function(){var t,e,i,s,r,l,h,c,a,p,u,d;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,s=t.style,r=s.overflowY,o&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+n,p=parseInt(this.$el.css("max-height"),10),p>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>p?p:t.scrollHeight)),h=this.pane.outerHeight(!1),a=parseInt(this.pane.css("top"),10),l=parseInt(this.pane.css("bottom"),10),c=h+a+l,d=Math.round(c/e*h),d<this.options.sliderMinHeight?d=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&d>this.options.sliderMaxHeight&&(d=this.options.sliderMaxHeight),r===$&&s.overflowX!==$&&(d+=n),this.maxSliderTop=c-d,this.contentHeight=e,this.paneHeight=h,this.paneOuterHeight=c,this.sliderHeight=d,this.paneTop=a,this.slider.height(d),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==$?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===$?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),"static"!==i&&"relative"!==i||(u=parseInt(this.$content.css("right"),10),u&&this.$content.css({right:"",marginRight:u})),this)},c.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this},c.prototype.scrollBottom=function(t){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(f),this.stop().restore(),this},c.prototype.scrollTop=function(t){if(this.isActive)return this.$content.scrollTop(+t).trigger(f),this.stop().restore(),this},c.prototype.scrollTo=function(t){if(this.isActive)return this.scrollTop(this.$el.find(t).get(0).offsetTop),this},c.prototype.stop=function(){return x&&this.scrollRAF&&(x(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},c.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),o&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},c.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this},c}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,o;if((o=this.nanoscroller)||(i=t.extend({},C,e),this.nanoscroller=o=new v(this,i)),e&&"object"==typeof e){if(t.extend(o.options,e),null!=e.scrollBottom)return o.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return o.scrollTop(e.scrollTop);if(e.scrollTo)return o.scrollTo(e.scrollTo);if("bottom"===e.scroll)return o.scrollBottom(0);if("top"===e.scroll)return o.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return o.scrollTo(e.scroll);if(e.stop)return o.stop();if(e.destroy)return o.destroy();if(e.flash)return o.flash()}return o.reset()})},t.fn.nanoScroller.Constructor=v}),$(function(){function t(t){$.ajax({type:"POST",url:"/rest/usersStatistics/statisticsAll.mt?action="+t,data:"",cache:!1,dataType:"json",async:!1}).done(function(t){})}ipview(),t("start"),$(".nano").nanoScroller({contentClass:"content",paneClass:"pane",sliderClass:"slider"}),$(".nano1").nanoScroller(),$(".hr").mousedown(function(t){var e=t.pageY,i=$(".cr-body").height(),o=$(".pr-body").height();$(document).on("mousemove",function(n){var s=n.pageY-e;i+s>50&o-s>50&&($(".cr-body").height(i+s),$(".pr-body").height(o-s)),t.preventDefault()}),$(document).on("mouseup",function(){$(document).off("mousemove"),$(document).off("mouseup")})}),$("#stdSps li").click(function(){return $("#sendGiftNum").val($(this).attr("data-count")),$("#stdSps").hide(),!1}),$("#giftShapeBtns").click(function(){return $("#stdSps").toggle(),!1}),$(".ospan").hover(function(){$(".infoBox").show()},function(){setTimeout(function(){var t=$(".infoBox");t.hasClass("hov")||t.hide()},1e3)}),$(".infoBox").mousemove(function(){$(".infoBox").addClass("hov")}).mouseleave(function(){$(".infoBox").removeClass("hov").hide()}),$(document).on("mousedown",function(t){var e=$(t.target);e.hasClass("toggleBox")||e.parents(".toggleBox")[0]||e.parents(".tip-yellow")[0]||($(".toggleBox").hide(),$("#dstUser").removeClass("o_bder"),$("#sendToUser").removeClass("o_bder"),$(".aud").removeClass("on"),null!=UIF.handler&&null!=UIF.handler.intervals&&(clearInterval(UIF.handler.intervals),UIF.handler.intervals=null))})});