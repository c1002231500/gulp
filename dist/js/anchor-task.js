define(function(i,t,s){var a,n,e=function(i,t,s,a,n){this.tableGift="",this.h='<div class="task'+i+' temp" >                    <div class="task11-header">                        <div class="task-qiandao-name">'+t+'</div>                    </div>                    <div class="task11-p1">'+s+'</div>                    <div class="task11-fenjiexian"></div>                    <div class="task111-name">'+t+'</div>                    <div class="task111">                    <table>[GIFTTABLE]                    </table>                    <div class="task111-lingqu" id="sendAnyGift">                    <span class="task111-btn [LQ]" id="task'+i+'-btn">[LQT]</span>                    </div>                    </div>            </div>',this.tid=i,this.gifts=jQuery.parseJSON(a),this.duration=a.duration,this.finish=n};e.prototype={init:function(){for(var i="<tr>",t=0;t<this.gifts.prize[0].gift.length;t++)i+='<td><img src="/static_data/gift/'+this.gifts.prize[0].gift[t].pic+'"></td><td>奖励'+this.gifts.prize[0].gift[t].text+this.gifts.prize[0].gift[t].num+"个</td>";i+="</tr>",2==this.finish?(lq="hasling",lqt="已领取"):1==this.finish?(lq="",lqt="领取"):0==this.finish?(lq="weiling",lqt="领取"):(lq="weiling",lqt="未开启"),this.h=this.h.replace("[LQT]",lqt),this.h=this.h.replace("[LQ]",lq),this.h=this.h.replace("[GIFTTABLE]",i),$(".temp").remove(),$(".task-right").append(this.h),$(".task-right .task"+this.tid).show()}};var l=function(i){var t=$.extend({},{duration:[],handle:[],minutes:"",prize:"",finsh:"",callback:function(){}},i);for(var s in t)this[s]=t[s]};l.prototype={init:function(){console.log(this.minutes),this.initMenu(),this.initBenifit(),this.addEnent()},initMenu:function(){var i=$(".jin-outer"),t=$(".jin-text-list"),s="",a="",n=8,e=this.minutes/n*100;this.minutes>0&&(e=e>97?97:e,s+='<div class="jin-inner" style="width: '+e+'%"></div>',s+='<div class="tuoyuan"></div>');for(var l=0;l<this.duration.length;l++){var d=this.duration[l]/n*100;l!=this.duration.length-1&&(s+=d<e||d==e?'<div class="tuoyuan" style="left:'+d+'%"></div>':'<div class="sanjiao" style="left:'+d+'%"></div>'),a+=1==l?'<div class="jin-text" style="left:30%">'+this.duration[l]+"分钟</div>":2==l?'<div class="jin-text" style="left:60%">'+this.duration[l]+"分钟</div>":3==l?'<div class="jin-text" style="left:90%">'+this.duration[l]+"分钟</div>":'<div class="jin-text" style="left:'+this.duration[l]+'%">'+this.duration[l]+"分钟</div>"}(this.minutes>n||this.minutes==n)&&(s+='<div class="tuoyuan" style="left:98%"></div>'),i.html(s),t.html(a)},initBenifit:function(){for(var i=this.finish,t=this.prize,s=this.duration,a=this.handle,n=$("#seeOnlineTable table"),e="<tr>",l=n.siblings(".task111-lingqu"),d="",r=0;r<t[0].gift.length;r++)e+='<td><img src="/static_data/gift/'+t[0].gift[r].pic+'"></td><td>奖励'+t[0].gift[r].text+t[0].gift[r].num+"个</td>";e+="</tr>",d='<span class="task111-btn" id="seeOnline5" dur="5">领取奖励</span>';_i=0,_k=0;for(var h=0;h<a.length&&1!=a[h];h++)_i++;if(_i==a.length){_i=0;for(var h=0;h<a.length;h++){if(0==a[h]){_k=1;break}_i++}}if(_i<a.length){e="<tr>";for(var r=0;r<t[_i].gift.length;r++)e+='<td><img src="/static_data/gift/'+t[_i].gift[r].pic+'"></td><td>奖励'+t[_i].gift[r].text+t[_i].gift[r].num+"个</td>"}d=_i<a.length&&0==_k?'<span class="task111-btn lingqu" id="seeOnline'+s[_i]+'" dur="'+s[_i]+'">领取奖励</span>':_i==a.length?'<span class="task111-btn hasling" id="seeOnline'+s[0]+'" dur="'+s[0]+'">已领完</span>':'<span class="task111-btn weiling" id="seeOnline'+s[0]+'" dur="'+s[0]+'">领取奖励</span>',3==i&&(d='<span class="task111-btn weiling">未开启</span>'),n.html(e),l.html(d)},addEnent:function(){$(".task111-lingqu").on("click",".lingqu",function(){UIF.handler.claimeLookLive({groupId:n,taskId:a,duration:$(this).attr("dur")},function(i){d(a,n)})})}};var d=function(i,t){2==i?UIF.handler.taskDetails({groupId:t,taskId:i},function(i){var i=jQuery.parseJSON(i),t="每日签到",s="每天签到一次领取奖励!";new e(i.taskId,t,s,i.parameters,i.finish).init()}):1==i?UIF.handler.taskDetails({groupId:t,taskId:i},function(i){i=jQuery.parseJSON(i);var t=jQuery.parseJSON(i.parameters);new l({duration:t.duration,handle:t.handle,minutes:t.minutes,prize:t.prize,finish:i.finish}).init()}):6==i?UIF.handler.taskDetails({groupId:t,taskId:i},function(i){var i=jQuery.parseJSON(i),t="赠送礼物一枚",s="赠送任意礼物一个可领取奖励!";new e(i.taskId,t,s,i.parameters,i.finish).init()}):7==i&&UIF.handler.taskDetails({groupId:t,taskId:i},function(i){var i=jQuery.parseJSON(i),t="赠送礼物超过1000逗币",s="赠送主播礼物累计超过1000逗币!";new e(i.taskId,t,s,i.parameters,i.finish).init()}),void 0!=typeof i&&""!=i||($(".task-left").hide(),$(".task-right").hide()),$(".task-left .task-li[rel='"+i+"']").addClass("task-li-hover").siblings().removeClass("task-li-hover"),$(".task-right >div").hide(),$(".task-right").find(".task"+i).show()};$(".task-header div").click(function(){$(this).siblings().removeClass("bottom-line"),$(this).addClass("bottom-line");var i,t,s=$(this).attr("indexs");UIF.handler.sendTaskGroups({},function(a){var a=jQuery.parseJSON(a),n="";$.each(a,function(){var a=$(this);n+='<div class="task-area">',n+='<div class="task-type"><div class="jian dk" zid="'+a[0].id+'" >'+a[0].name+"</div></div> ",t=a[0].id,a[0].taskList.length>0&&(n+='<div class="task-list">',$.each(a[0].taskList,function(t,a){0==s?n+=' <div class="task-li" rel="'+a.id+'" clazz="'+a.clazz+'">'+a.taskName+"</div>":a.finishStatus==s&&(i=a.id,n+=' <div class="task-li" rel="'+a.id+'" clazz="'+a.clazz+'">'+a.taskName+"</div>")}),n+="</div>"),n+="</div>"}),$(".task-left").html(n),d(i,t)})}),$(".switch-area").on("click","#sw-mission",function(i){return UIF.handler.login?void($(".TaskBox").is(":hidden")?(UIF.handler.sendTaskGroups({},function(i){var i=jQuery.parseJSON(i),t="";$.each(i,function(){var i=$(this);t+='<div class="task-area">',t+='<div class="task-type"><div class="jian dk" zid="'+i[0].id+'" >'+i[0].name+"</div></div> ",i[0].taskList.length>0&&(t+='<div class="task-list">',$.each(i[0].taskList,function(i,s){t+=' <div class="task-li" rel="'+s.id+'" clazz="'+s.clazz+'">'+s.taskName+"</div>"}),t+="</div>"),t+="</div>"}),$(".task-left").html(t),d(2,1),$(".TaskBox").show()}),$(this).addClass("sw-mission").removeClass("sw-mission-hover")):($(".TaskBox").hide(),$(this).addClass("sw-mission-hover").removeClass("sw-mission"))):void UIF.handler.loging()}),$(".task-left").on("click"," .task-area .dk",function(i){var t=$(this);t.parent().siblings(".task-list").slideToggle(),t.hasClass("jian")?t.removeClass("jian").addClass("jia"):t.removeClass("jia").addClass("jian")}),$(".task-left").on("click",".task-area .task-list .task-li",function(i){a=$(this).attr("rel"),n=$(this).parents().siblings(".task-type").find(".dk").attr("zid"),d(a,n)}),$(".task-right").on("click","#task2-btn",function(i){var t=$(this);UIF.handler.signin({groupId:"1",taskId:"2"},function(i){var i=jQuery.parseJSON(i);2==i.finish&&t.addClass("hasling")})}),$(".xx").click(function(){$(".TaskBox").hide(),$("#sw-mission").removeClass("sw-mission").addClass("sw-mission-hover")}),$(".task11btn").click(function(){$(this).addClass("hasling")})});